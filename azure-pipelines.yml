# Starter pipeline

# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- production

pool:
  vmImage: ubuntu-latest
variables:
  flutterVersion: '3.24.4'
steps:
- task: FlutterInstall@0
  displayName: "Installing flutter"
  inputs:
    mode: 'auto'
    channel: 'stable'
    version: 'latest'
- script: |
    echo "Flutter version: $(flutterVersion)"
  displayName: "Debugging flutterVersion"
- script: |
    flutter doctor -v
  displayName: Runing flutter doctor
- script: |
    flutter pub get
  displayName: Running pub get  

- script: |
    flutter build appbundle --release
  displayName: "Building aab"